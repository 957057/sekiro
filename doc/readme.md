# sekiro-business

sekiro商业版本

## 文档
1. [快速体验](1.quick_start.md)
2. [基础文档](2.basic.md)

自2020年12月21日起，sekiro区分开源版本和商业版本两个版本进行开发。如果您是个人和工作室使用，使用开源版本足够满足您的需求。如果您对更高要求的高可用、性能优化、运维管理
资源监控、准入鉴权等企业级功能有需求。欢迎使用我们商业版的接入。sekiro商业版可以满足更加大规模的调用。两个版本的对比如下：

|功能点|开源版|商业版|
|----|----|----|
|集群|只能单点|支持集群模式(最多可以部署10台服务器组件集群)|
|流量压缩|不支持传输压缩|支持多种出入口压缩算法,支持自定义传输压缩算法。大json调用带宽平均降低到开源版的1/10(这是开源版本核心瓶颈)|
|反序列化优化|使用fastjson进行数据反序列化|直接避免json反序列化，不消耗CPU(这是开源版本核心瓶颈)|
|数据转发|不支持|(暂未实现)支持sekiro数据转发到其他业务系统，mq或者http协议|
|调用监控|全部透传，不支持记录调用情况|各时间维度记录各渠道的调用情况，包括成功失败的率和量，包括整体暂用的消耗的qps、带宽、平均耗时|
|鉴权|公共接口，不支持鉴权|设备接入鉴权，API调用鉴权。ip白名单和token认证，并记录每个授权消耗的调用量|
|代码质量|最开始学习的时候抄的别人的demo，代码质量极其丑陋|总结三年项目迭代，多个公司需求重新设计架构，代码质量高，流程模块区分清晰，可读性高，性能高|
|一致性|client销毁暴力停止，部分请求发送无响应无限timeout| 架构上保证一致性，client销毁先摘流量，意外中断响应502|
|多协议|http --invoke-> ws/sekiro| http/ws/sekiro --invoke-> wx/sekiro (sekiro->sekiro 直接复用长链接通道，数据流中途不解压，sekiro服务器几乎不占用CPU资源)|

... 还有其他多种高级特性


## 定价标准

### PlanA
源码授权，提供私有代码仓库git权限，按年付费，标准定价 2w/年，付费8折。

|时间|价格|备注|
|----|----|----|
|购买第一年|2万|购买之后提供专业的部署支持，gitlab账号权限到期自动消失|
|2-n年|1.6w/年|按2万基础价8折付费|

说明：
1. 商业版源码仅限同一个公司/工作室/个人使用，禁止分享给其他主体。服务部署的实际需要给我们备注您的集群ip，我们会定期抽检非合规部署节点

### PlanB
服务器租用授权，按量或者按时付费

|类型|阶段|费用|
|----|----|----|
|按时付费|qps<30 流量不超过200G |500元/月|
|按时付费|qps<50 流量不超过500G|1000元/月|
|按时付费|qps<200 流量不超过2T|2000元/月|
|按并发按时付费|qps<10 不限流量|300/月|
|按并发按时付费|qps<30 不限流量|800/月|
|按并发按时付费|qps<50 不限流量|1500/月|
|按并发按时付费|qps<100 不限流量|2000/月|
|按量付费|购买次数:0-1w次 |0.005元/次|
|按量付费|购买次数1w-10w次|0.003元/次|
|按量付费|购买次数10w-100w次|0.0015元/次|
|按量付费|购买次数大于100w次|0.001元/次|

如果你对商业版有需求，请加微信:(virjar1)进行咨询